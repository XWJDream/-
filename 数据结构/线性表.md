## 线性表的定义

- 由零个或多个数据元素组成的有限序列

1. 它是一个序列，元素之间有先来后到的关系
2. 若元素存在多个，第一个元素无前驱，最后一个元素无后继，其他元素有且只有一个前驱和后继。
3. 线性表强调是有限的。（计算机处理的元素是有限的）
4. 线性表元素的个数n（n>=0）定义为线性表的长度，当n=0时，称为空表。

## 数据类型

- 指一组性质相同的值的集合及定义在此集合上的一些操作的总称。
- 例如：整型，浮点型······

### 抽象数据类型

- 例如C语言中，按照取值的不同，数据类型可以分为两类：

1. 原子类型：不可以再分解的基本类型，例如整型，浮点型，字符型等。
2. 结构类型：由若干个类型组合而成，是可以再分解的，例如整型数组是由若干整型数据组成的。

- **抽象**：是指抽取出事物具有的普遍性的本质。它要求抽出问题的特征而忽略非本质的细节，是对具体事物的概括。

例如：**美女**和**那个赤瞳白发的美女**

- "抽象"的意义在于数据类型的数学抽象特性。（结构体）
- **抽象数据类型的标准格式：**

```c
//ADT 抽象数据类型名
//Data
//  数据元素之间逻辑关系的定义
//Operation
//  操作
/endADT
```

#### 抽象数据类型定义

- ADT 线性表（List）
- **Data**

线性表的数据对象集合为{a1，a2，...，an}，每个元素的类型均为DataType。数据元素间是一对一的关系。

- **Operation**

         1. *InitList*（*L）：初始化操作，建立一个空的线性表L；
         2. *ListEmpty*（L）：判断线性表是否为空表，若线性表为空，返回*true*，否则返回*false*。
         3. *ClearList*（*L）：将线性表清空。
         4. *GetElem*（L，i，*e）：将线性表L中的第i个位置元素值返回给e。
         5. *LocateElem*（L，e）：在线性表L中查找与给定值e相等的元素，如果查找成功，返回该元素在表中序号表示成功；否则，返回0表示失败。
         6. *ListInsert*（*L，i， *e）：在线性表L中第i个位置插入新元素e。
         7. *ListDelete*（*L，i， *e）：删除线性表L中第i个位置元素，并用e返回其值。
         8. *ListLength*（L）：返回线性表L的元素格式。

- **endADT**
- A与B并集

```c
//La表示A集合，Lb表示B集合
void unionL(List *La,list Lb)
{
    int La_len,Lb_len,i;
    ElemType e;
    La_len = ListLength(*La);
    Lb_len = ListLength(Lb);
    for(i=1;i<=Lb_len;i++)
    {
        GetElem(Lb,i,&e);
        if(!LocateElem(*La,e))
        {
            ListInsert(La,++La_len,e);
        }
    }
}
```

# 线性表的顺序存储结构



``` c
#define MAXSIZE 20
typedef int ElemType;
typedef struct
{
    ElemType data[MAXSIZE];
    int length; //线性表当前长度
}SqList;
```

## 顺序存储结构的封装三个属性

- 存储空间的起始位置，数组data，它的存储位置就是线性表存储空间的存储位置。
- 线性表的最大存储容量：数组的长度MaxSize。
- 线性表的当前长度：length。

## 地址计算方法

- 对于第i个数据元素ai的存储位置可以由a1推算得出：**LOC（ai）=LOC（a1）+（i-1）*c**

## 获得元素操作

```c
#define OK 1
#define ERROR 0
#define TRUE 1
#define FALSE 0
typedef int Status;
//Status是函数的类型，其值是函数结果状态代码，如OK等。
//初始条件，顺序线性表L已存在，1<=i<=ListLength(L)
//操作结果，用e返回L中第i个数据元素的值
Status GetElem(SqList L,int i,ElemType *e)
{
    if(L.length==0||i<1||i>L.length)
    {
        return ERROR;
    }
    *e =L.data(i-1);
    return OK;
}
```

- 线性表的顺序存储结构具有随机存储结构的特点，时间复杂度为O（1）

## 插入操作

- 插入算法的思路：

1. 如果插入位置不合理，抛出异常；
2. 如果线性表长度大于等于数组长度，则抛出异常或动态增加数组容量；
3. 从最后一个元素开始向前遍历到第i个位置，分别将他们都向后移动一个位置；
4. 将要插入元素填入位置i处；
5. 线性表长度+1。

```c
//初始条件，顺序线性表L已存在，1<=i<=ListLength(L)
//操作结果：在L中第i个位置之前插入新的数据元素e，L长度+1.
Status ListInsert (SqList *L,int i,ElemType e)
{
    int k;
    if(L.length==MAXSIZE)//顺序线性表已经满了
    {
        return ERROR;
    }
    if(i<1||i>L.length+1)//当i不在范围内
    {
        return ERROR;
    }
    if(i<=L.length)//若插入数据位置不在表尾
    {
        //将要插入位置后数据元素向后移动一位
        for(k=L.length-1;k>=i-1;k--)
        {
            L.data[k+1]=L.data[k];
        }
    }
    L.data[i-1]=e;//将新元素插入
    L.length++;
    return OK;
}
```

## 删除操作

- 删除算法的思路：

1. 如果删除位置不合理，抛出异常；
2. 取出删除元素；
3. 从删除元素位置开始遍历到最后一个元素位置，分别将他们都向前移动一个位置；
4. 线性表长度-1。

```c
//初始条件，顺序线性表L已存在，1<=i<=ListLength(L)
//操作结果：删除L的第i个数据元素，并用e返回其值，L长度-1.
Sraus ListDelete(SqList *L,int i,ElemType *e)
{
    int k;
    if(L.length==0)
    {
        return ERROR;
    }
    if(i<1||i>L.length)
    {
        return ERROR;
    }
    *e = L.data[i-1];
    if(i<L.length)
    {
        for(k=i;k<L.length;k++)
        {
            L.data[k-1]=L.data[k];
        }
    }
    L.length--;
    return OK;
}
```

**插入和删除的时间复杂度**

- 若插入和删除操作刚好要求在最后一个位置操作，因为不需要移动如何元素，此时的时间复杂度为O（1）。
- 若插入和删除操作刚好要求在第一个位置操作，意味所以的元素都有向后或者向前，时间复杂度为O（n）。
- 平均情况，取中间值O（（n-1）/2）。简化后为O（n）。

## 线性表顺序存储结构的优缺点

- 在存、读数据时，不管是哪个位置，时间复杂度都是O（1）。而在插入或删除时，时间复杂度都是O（n）。
- 这就说明，其比较适合元素个数比较稳定，不经常插入和删除元素，更多的操作是存取数据的应用。

**优点**

—无须为表中元素之间的逻辑关系而增加额外的存储空间。

—可以快速地存取表中任意位置的元素。

**缺点**

—插入和删除操作需要移动大量元素。

—当线性表长度变化较大时，难以确定存储空间的容量。

—容易造成存储空间的“碎片”。

# 线性表的链式存储结构

## 线性表链式存储结构定义

- 线性表的链式存储结构的特点是用一组任意的存储单元存储线性表的数据元素，这组存储单元可以存在内存中未被占用的任意位置。
- 链式存储结构中，除了要存储数据元素信息外，还要存储它的后继元素的存储地址（指针）。
- 除了存储本身的信息外，还需存储一个指示其直接后继的存储位置的信息。
- 把存储数据元素信息的域称为数据域，把存储直接后继位置的域称为指针域。指针域中存储的信息称为指针或链。这两部分信息组成数据元素称为存储映像，称为结点（Node）。
- n个结点链接成一个链表，即为线性表（a1，a2，a3，...，an）的链式存储结构。
- 因为此链表的每个结点中只包含一个指针域，所以叫做单链表。

![image](https://user-images.githubusercontent.com/98155544/150932190-e7ed01b0-c2eb-491b-b6df-52b0b0582505.png)

